[2025-11-04 13:58:08.498] [SUCCESS_DETAILED] [AiComparisonService] ✅ Xử lý thành công yêu cầu song song OpenAI và OpenRouter (tiết kiệm 10743ms)
════════════════════════════ SUCCESS DETAILS ════════════════════════════
▶ CONTEXT:
   - userMessage: hôm nay ip 10.4.100.110 truy cập những website nào
   - timeSavedMs: 10743
   - openaiEsData: {"took":47,"timed_out":false,"_shards":{"total":21,"successful":21,"skipped":20,"failed":0},"hits":{"total":{"value":10000,"relation":"gte"},"max_score":null,"hits":[{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"aMOoTZoBwPewX2N5Yzbr","_score":null,"_source":{"@timestamp":"2025-11-04T13:57:47.000+07:00"},"sort":[1762239467000]},{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"acOoTZoBwPewX2N5Yzbr","_score":null,"_source":{"@timestamp":"2025-11-04T13:57:47.000+07:00"},"sort":[1762239467000]},{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"HMOoTZoBwPewX2N5Yzbr","_score":null,"_source":{"@timestamp":"2025-11-04T13:57:46.000+07:00"},"sort":[1762239466000]},{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"RsOoTZoBwPewX2N5Yzbr","_score":null,"_source":{"@timestamp":"2025-11-04T13:57:46.000+07:00"},"sort":[1762239466000]},{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11... (truncated)
   - aiSummary: {openrouter_esSuccess=true, openai_esSuccess=true, openrouter_totalMs=14538, openai_totalMs=13337, openrouter_searchMs=171, openai_searchMs=462}
   - openrouterEsData: {"took":52,"timed_out":false,"_shards":{"total":21,"successful":21,"skipped":20,"failed":0},"hits":{"total":{"value":10000,"relation":"gte"},"max_score":null,"hits":[{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"aMOoTZoBwPewX2N5Yzbr","_score":null,"_source":{"@timestamp":"2025-11-04T13:57:47.000+07:00"},"sort":[1762239467000]},{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"acOoTZoBwPewX2N5Yzbr","_score":null,"_source":{"@timestamp":"2025-11-04T13:57:47.000+07:00"},"sort":[1762239467000]},{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"HMOoTZoBwPewX2N5Yzbr","_score":null,"_source":{"@timestamp":"2025-11-04T13:57:46.000+07:00"},"sort":[1762239466000]},{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"RsOoTZoBwPewX2N5Yzbr","_score":null,"_source":{"@timestamp":"2025-11-04T13:57:46.000+07:00"},"sort":[1762239466000]},{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11... (truncated)
   - sessionId: 237
   - totalProcessingTimeMs: 17132

▶ ES DATA PREVIEW:
   OpenAI ES: {"took":47,"timed_out":false,"_shards":{"total":21,"successful":21,"skipped":20,"failed":0},"hits":{"total":{"value":10000,"relation":"gte"},"max_score":null,"hits":[{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"aMOoTZoBwPewX2N5Yzbr","_score":null,"_source":{"@timestamp":"2025-11-04T13:57:47.000+07:00"},"sort":[1762239467000]},{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"acOoTZoBwPewX2N5Yzbr","_score":null,"_source":{"@timestamp":"20... | OpenRouter ES: {"took":52,"timed_out":false,"_shards":{"total":21,"successful":21,"skipped":20,"failed":0},"hits":{"total":{"value":10000,"relation":"gte"},"max_score":null,"hits":[{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"aMOoTZoBwPewX2N5Yzbr","_score":null,"_source":{"@timestamp":"2025-11-04T13:57:47.000+07:00"},"sort":[1762239467000]},{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"acOoTZoBwPewX2N5Yzbr","_score":... (preview truncated)

▶ ES DATA (FULL, truncated):
   OpenAI Data: {"took":47,"timed_out":false,"_shards":{"total":21,"successful":21,"skipped":20,"failed":0},"hits":{"total":{"value":10000,"relation":"gte"},"max_score":null,"hits":[{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"aMOoTZoBwPewX2N5Yzbr","_score":null,"_source":{"@timestamp":"2025-11-04T13:57:47.000+07:00"},"sort":[1762239467000]},{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"acOoTZoBwPewX2N5Yzbr","_score":null,"_source":{"@timestamp":"2025-11-04T13:57:47.000+07:00"},"sort":[1762239467000]},{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"HMOoTZoBwPewX2N5Yzbr","_score":null,"_source":{"@timestamp":"2025-11-04T13:57:46.000+07:00"},"sort":[1762239466000]},{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"RsOoTZoBwPewX2N5Yzbr","_score":null,"_source":{"@timestamp":"2025-11-04T13:57:46.000+07:00"},"sort":[1762239466000]},{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"qMOoTZoBwPewX2N5YzXr","_score":null,"_source":{"@timestamp":"2025-11-04T13:57:45.000+07:00"},"sort":[1762239465000]},{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"T8OoTZoBwPewX2N5YzXr","_score":null,"_source":{"@timestamp":"2025-11-04T13:57:44.000+07:00"},"sort":[1762239464000]},{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"YMOoTZoBwPewX2N5YzXr","_score":null,"_source":{"@timestamp":"2025-11-04T13:57:44.000+07:00"},... (truncated)
   OpenRouter Data: {"took":52,"timed_out":false,"_shards":{"total":21,"successful":21,"skipped":20,"failed":0},"hits":{"total":{"value":10000,"relation":"gte"},"max_score":null,"hits":[{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"aMOoTZoBwPewX2N5Yzbr","_score":null,"_source":{"@timestamp":"2025-11-04T13:57:47.000+07:00"},"sort":[1762239467000]},{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"acOoTZoBwPewX2N5Yzbr","_score":null,"_source":{"@timestamp":"2025-11-04T13:57:47.000+07:00"},"sort":[1762239467000]},{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"HMOoTZoBwPewX2N5Yzbr","_score":null,"_source":{"@timestamp":"2025-11-04T13:57:46.000+07:00"},"sort":[1762239466000]},{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"RsOoTZoBwPewX2N5Yzbr","_score":null,"_source":{"@timestamp":"2025-11-04T13:57:46.000+07:00"},"sort":[1762239466000]},{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"qMOoTZoBwPewX2N5YzXr","_score":null,"_source":{"@timestamp":"2025-11-04T13:57:45.000+07:00"},"sort":[1762239465000]},{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"T8OoTZoBwPewX2N5YzXr","_score":null,"_source":{"@timestamp":"2025-11-04T13:57:44.000+07:00"},"sort":[1762239464000]},{"_index":".ds-logs-fortinet_fortigate.log-default-2025.11.01-000003","_id":"YMOoTZoBwPewX2N5YzXr","_score":null,"_source":{"@timestamp":"2025-11-04T13:57:44.000+07:00"},... (truncated)

▶ AI RESULTS SUMMARY:
   - openrouter_esSuccess: true
   - openai_esSuccess: true
   - openrouter_totalMs: 14538
   - openai_totalMs: 13337
   - openrouter_searchMs: 171
   - openai_searchMs: 462

▶ TIMESTAMP: 2025-11-04T13:58:08.4983559
════════════════════════════ END SUCCESS DETAILS ════════════════════════════

